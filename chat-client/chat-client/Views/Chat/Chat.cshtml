@{
    ViewData["Title"] = "Chat";
}

<script>serverAdresss = "http://localhost:4000"</script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
<script src="../js/site.js"></script>
<script>setRefreshInterval();</script>

<style>
    .body-content {
        /*text-align: center;*/
    }
    .chatWraper {
        width: 70%;
        height: 450px;
        margin: auto;
        /*max-height:450px;*/
        /*border: 1px solid #555555;*/
    }
    .usersList {
        width: 30%;
        height: 100%;
        float: left;
        background-color: #EEE;
        border: 1px solid #555555;
    }
    .messagePanel { /*Right column*/
        float: right;
        width: 70%;
        height: 100%;
        border: 1px solid #555555;
        border-left-width: 0px;
    }
    .messageList { /*Contains injected div - messageListExternalContainer*/
        width: 100%;
        height: 80%; /*100% - 20% on SendPanel*/
        background-color: #FFF;
    }
    .messageListExternalContainer {
        height: 100%;
    }
    .messagesPanelContainer { /*TODO: Rename; it is injectection div*/
        height: 100%;
    }
    .messageListContainer {
        height: 90%; /**/
        background-color: white;
        overflow: auto;
    }
    .messageSendPanel {
        width: 100%;
        height: 20%;
    }
    .messageInputContainer {
        width: 80%;
        height: 100%;
        float: left;
    }
    .sendMessageButtonContainer {
        width: 20%;
        height: 100%;
        float: right;
    }
    .messageInput {
        width: 100%;
        height: 100%;
    }
    .sendMessageButton {
        width:100%;
        height:100%;
    }
    .friendUsername {
        padding-top: 2%;
        background-color: #5d8aa8;
        color: white;
        text-align: left;
        padding-left: 4%;
        height: 10%;
    }
    .friendUsernameSpan {
        vertical-align: middle;
    }
    .messageListContainer {
        padding-left: 4%;
        padding-right: 4%;
    }
    .messageContainer {
        background-color: #f0f8ff;
        margin-top: 10px;
    }
    .userStamp {
        
    }
    .messageText {
        
    }
    .dateTimeStamp {
        color: #a2d3ff;
        width: 100%;
        text-align:left;
    }
    .emptyMessageList {
        padding-top: 48%;
        text-align: center;
        height: 100%;
        color: grey;
    }
    .emptyMessageListSpan {
        vertical-align: middle;
    }
    .userLink {
        cursor: pointer;
    }
</style>


<div class="chatWraper">
    <div class="usersList">
        <div class="userListExternalContainer" id="userListExternalContainer"></div>
    </div>
    <div class="messagePanel">
        <div class="messageList">
            <div class="messageListExternalContainer" id="messageListExternalContainer"></div>
        </div>

        <div class="messageSendPanel">
            <div class="messageInputContainer">
                <input id="messageInput" class="messageInput" />
            </div>
            <div class=sendMessageButtonContainer>
                <input type="submit" onclick="sendMessage(currentChatId)" class="sendMessageButton" id="sendMessageButton" value="Send"/>
            </div>
        </div>
    </div>
</div>

<script>
    var input = document.getElementById("messageInput");
    input.addEventListener("keydown", function(event) {
    if (event.keyCode === 13) {
        document.getElementById("sendMessageButton").click();
    }
    });
</script>